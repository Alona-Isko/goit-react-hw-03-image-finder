{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/apiServer.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","e","preventDefault","trim","props","getSearchValue","setState","toast","handleInputChange","target","value","toLowerCase","className","s","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButton__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","key","image","onImageClick","src","webformatURL","alt","tags","ImageGalleryItem__image","onClick","largeImageURL","id","propType","PropTypes","shape","string","func","ImageGallery","data","map","Button","axios","defaults","baseURL","API_KEY","fetchImages","page","get","then","x","Promise","resolve","setTimeout","res","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","Spiner","Loader","color","height","width","App","showModal","loading","getFetch","console","log","prev","catch","error","finally","onLoadMore","scrollLoadMore","scrollTo","top","documentElement","scrollHeight","behavior","openModalClick","toggleModal","prevState","prevProps","autoClose","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44618d2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3kQQ1\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__nu8p7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1X_le\",\"Modal\":\"Modal_Modal__1dw_J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2LE1H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__BiXuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2m8aM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2OEYI\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.query.trim() === '') {\r\n            toast('Your query is empty');\r\n            return;\r\n        }\r\n\r\n        this.props.getSearchValue(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ query: e.target.value.toLowerCase() });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form\r\n                    onSubmit={this.handleSubmit}\r\n                    className={s.SearchForm}\r\n                >\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButton__label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchForm__input}\r\n                        type=\"text\"\r\n                        value={this.state.query}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleInputChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ key, image, onImageClick }) {\r\n    return (\r\n        <li key={image.id} className={s.ImageGalleryItem}>\r\n            <img\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                key={key}\r\n                className={s.ImageGalleryItem__image}\r\n                onClick={() => onImageClick(image.largeImageURL)}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.propType = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n  }),\r\n  onImageClick: PropTypes.func,\r\n};","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\n\r\nexport default function ImageGallery({ data, onImageClick}) {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {data.map(image => {\r\n                return (\r\n                    <ImageGalleryItem\r\n                        key={image.id}\r\n                        image={image}\r\n                        onImageClick={onImageClick}\r\n                    />\r\n                )\r\n            })}\r\n        </ul>\r\n    );\r\n};\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button\r\n            type=\"button\"\r\n            className={s.Button}\r\n            onClick={onClick}\r\n        >\r\n            Load more\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api`;\r\nconst API_KEY = `23238437-0207b31bcaea78a79b03733f3`;\r\n\r\nconst fetchImages = (query = '', page = 1) => {\r\n    return axios\r\n        .get(\r\n        `/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then(x => new Promise(resolve => setTimeout(() => resolve(x), 1000)))   \r\n    .then(res => res.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n    \r\n  render() {\r\n    return createPortal(\r\n        <div \r\n            className={s.Overlay}\r\n            onClick={this.handleBackdropClick}\r\n        >\r\n            <div className={s.Modal}>\r\n                <img src={this.props.largeImageURL} alt=\"\" />\r\n            </div>\r\n        </div>,\r\n        modalRoot,\r\n    );\r\n  }\r\n}","import Loader from 'react-loader-spinner';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Spiner = () => (\r\n    <div className={s.Loader}>        \r\n        <Loader\r\n            type=\"BallTriangle\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Spiner;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport fetchImages from './services/apiServer';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport s from './App.module.css';\n\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    data: [],\n    showModal: false,\n    largeImageURL: '',\n    loading: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.getFetch();\n    }\n  };\n\n  getFetch = () => {\n    const { query, page } = this.state;\n    this.setState({ loading: true });\n\n    return fetchImages(query, page)\n      .then(data => {\n        console.log(\"data: \", data);\n        this.setState(prev => ({\n          data: [...prev.data, ...data],\n          page: prev.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  getSearchValue = query => this.setState({\n    query,\n    page: 1,\n    data: [],\n  });\n\n\n  onLoadMore = () => {\n    this.getFetch()\n      .then(() => {\n        this.scrollLoadMore();\n      });\n  };\n\n  scrollLoadMore = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n\n  openModalClick = largeImageURL => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      showModal: true,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeImageURL: '',\n    }));\n  };\n\n\n  render() {\n    const { data, loading, showModal, largeImageURL} = this.state;\n    return (\n      <div className={s.App}>\n        <Searchbar getSearchValue={this.getSearchValue} />\n        <ToastContainer\n          autoClose={3000}\n        />\n        <ImageGallery\n          data={data}\n          onImageClick={this.openModalClick}\n        />\n        {loading && <Loader />}\n        {data.length > 0 && data.length >= 12 && (\n          <Button onClick={this.onLoadMore}/>\n        )}\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            largeImageURL={largeImageURL}\n          />)}\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__CwhLg\",\"SearchForm\":\"Searchbar_SearchForm__1xvhe\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3q7Bd\",\"SearchFormButton__label\":\"Searchbar_SearchFormButton__label__2y_TP\",\"SearchForm__input\":\"Searchbar_SearchForm__input__ZoP2m\"};"],"sourceRoot":""}